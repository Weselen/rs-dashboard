{"ast":null,"code":"var _jsxFileName = \"/Users/kristadayton/Dev/Projects/dwelladata-dashboard/dwelladata-dashboard/src/components/MapView.js\";\nimport React, { useState } from 'react';\nimport '../styles/MapView.css';\nimport zoneStats from '../data/zone-stats';\nimport { MapContainer, TileLayer, Marker, Popup, GeoJSON } from 'react-leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport L from 'leaflet';\nimport neighborhoods from '../data/vancouver-neighborhoods.js'; //load GeoJSON data\n\n// Fix for default Leaflet icons\nimport markerIcon2x from 'leaflet/dist/images/marker-icon-2x.png';\nimport markerIcon from 'leaflet/dist/images/marker-icon.png';\nimport markerShadow from 'leaflet/dist/images/marker-shadow.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: markerIcon2x,\n  iconUrl: markerIcon,\n  shadowUrl: markerShadow\n});\nfunction MapView({\n  onZoneClick,\n  setSelectedZone\n}) {\n  const position = [49.2827, -123.1207]; // Center on Vancouver\n\n  // Style each zone (gray fill, white border)\n  const geoStyle = {\n    fillColor: \"#90e0ef\",\n    weight: 1,\n    color: \"#0077b6\",\n    fillOpacity: 0.2\n  };\n\n  // Handler for each zone\n  const onEachFeature = (feature, layer) => {\n    var _stats$rent$2BR, _stats$rent, _stats$vacancy$2BR, _stats$vacancy, _stats$crimeRate;\n    const zoneName = feature.properties.name;\n    const stats = zoneStats[zoneName];\n    if (!stats) return;\n    const rent = (_stats$rent$2BR = (_stats$rent = stats.rent) === null || _stats$rent === void 0 ? void 0 : _stats$rent[\"2BR\"]) !== null && _stats$rent$2BR !== void 0 ? _stats$rent$2BR : \"N/A\";\n    const vacancy = (_stats$vacancy$2BR = (_stats$vacancy = stats.vacancy) === null || _stats$vacancy === void 0 ? void 0 : _stats$vacancy[\"2BR\"]) !== null && _stats$vacancy$2BR !== void 0 ? _stats$vacancy$2BR : \"N/A\";\n    const crime = (_stats$crimeRate = stats.crimeRate) !== null && _stats$crimeRate !== void 0 ? _stats$crimeRate : \"N/A\";\n    const popupContent = `\n      <strong>${zoneName}</strong><br/>\n      ðŸ’° 2BR Rent: $${rent}<br/>\n      ðŸ“‰ Vacancy Rate: ${vacancy}<br/>\n      ðŸš¨ Crime Rate: ${crime}\n    `;\n    layer.bindPopup(popupContent);\n    layer.on({\n      click: () => {\n        onZoneClick(zoneName); // Send clicked zone name to parent\n        setSelectedZone(zoneName);\n      },\n      mouseover: e => {\n        e.target.setStyle({\n          fillOpacity: 0.8\n        });\n      },\n      mouseout: e => {\n        e.target.setStyle({\n          fillOpacity: 0.2\n        });\n      }\n    });\n\n    // Optional: tooltip label\n    layer.bindTooltip(zoneName, {\n      permanent: false,\n      direction: 'center'\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"map-view\",\n    children: /*#__PURE__*/_jsxDEV(MapContainer, {\n      center: position,\n      zoom: 12,\n      scrollWheelZoom: true,\n      style: {\n        height: '100%',\n        borderRadius: '12px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n        attribution: \"\\xA9 OpenStreetMap contributors\",\n        url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(GeoJSON, {\n        data: neighborhoods,\n        style: geoStyle,\n        onEachFeature: onEachFeature\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Marker, {\n        position: position,\n        children: /*#__PURE__*/_jsxDEV(Popup, {\n          children: \"Center Marker\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n}\n_c = MapView;\nexport default MapView;\nvar _c;\n$RefreshReg$(_c, \"MapView\");","map":{"version":3,"names":["React","useState","zoneStats","MapContainer","TileLayer","Marker","Popup","GeoJSON","L","neighborhoods","markerIcon2x","markerIcon","markerShadow","jsxDEV","_jsxDEV","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","iconUrl","shadowUrl","MapView","onZoneClick","setSelectedZone","position","geoStyle","fillColor","weight","color","fillOpacity","onEachFeature","feature","layer","_stats$rent$2BR","_stats$rent","_stats$vacancy$2BR","_stats$vacancy","_stats$crimeRate","zoneName","properties","name","stats","rent","vacancy","crime","crimeRate","popupContent","bindPopup","on","click","mouseover","e","target","setStyle","mouseout","bindTooltip","permanent","direction","className","children","center","zoom","scrollWheelZoom","style","height","borderRadius","attribution","url","fileName","_jsxFileName","lineNumber","columnNumber","data","_c","$RefreshReg$"],"sources":["/Users/kristadayton/Dev/Projects/dwelladata-dashboard/dwelladata-dashboard/src/components/MapView.js"],"sourcesContent":["import React, { useState } from 'react';\nimport '../styles/MapView.css';\nimport zoneStats from '../data/zone-stats';\nimport { MapContainer, TileLayer, Marker, Popup, GeoJSON } from 'react-leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport L from 'leaflet';\nimport neighborhoods from '../data/vancouver-neighborhoods.js'; //load GeoJSON data\n\n// Fix for default Leaflet icons\nimport markerIcon2x from 'leaflet/dist/images/marker-icon-2x.png';\nimport markerIcon from 'leaflet/dist/images/marker-icon.png';\nimport markerShadow from 'leaflet/dist/images/marker-shadow.png';\n\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: markerIcon2x,\n  iconUrl: markerIcon,\n  shadowUrl: markerShadow,\n});\n\nfunction MapView({ onZoneClick, setSelectedZone }) {\n  const position = [49.2827, -123.1207]; // Center on Vancouver\n\n  // Style each zone (gray fill, white border)\n  const geoStyle = {\n    fillColor: \"#90e0ef\",\n    weight: 1,\n    color: \"#0077b6\",\n    fillOpacity: 0.2,\n  };\n\n  // Handler for each zone\n  const onEachFeature = (feature, layer) => {\n    const zoneName = feature.properties.name;\n    const stats = zoneStats[zoneName];\n\n    if (!stats) return;\n\n    const rent = stats.rent?.[\"2BR\"] ?? \"N/A\";\n    const vacancy = stats.vacancy?.[\"2BR\"] ?? \"N/A\";\n    const crime = stats.crimeRate ?? \"N/A\";\n\n    const popupContent = `\n      <strong>${zoneName}</strong><br/>\n      ðŸ’° 2BR Rent: $${rent}<br/>\n      ðŸ“‰ Vacancy Rate: ${vacancy}<br/>\n      ðŸš¨ Crime Rate: ${crime}\n    `;\n\n    layer.bindPopup(popupContent);\n\n    layer.on({\n      click: () => {\n        onZoneClick(zoneName); // Send clicked zone name to parent\n        setSelectedZone(zoneName);\n      },\n      mouseover: (e) => {\n        e.target.setStyle({ fillOpacity: 0.8 });\n      },\n      mouseout: (e) => {\n        e.target.setStyle({ fillOpacity: 0.2 });\n      },\n    });\n\n    // Optional: tooltip label\n    layer.bindTooltip(zoneName, { permanent: false, direction: 'center' });\n  };\n\n  return (\n    <div className=\"map-view\">\n      <MapContainer center={position} zoom={12} scrollWheelZoom={true} style={{ height: '100%', borderRadius: '12px' }}>\n        <TileLayer\n          attribution='&copy; OpenStreetMap contributors'\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n        />\n\n        {/* GeoJSON polygons */}\n        <GeoJSON data={neighborhoods} style={geoStyle} onEachFeature={onEachFeature} />\n\n        {/* Default center marker for now */}\n        <Marker position={position}>\n          <Popup>Center Marker</Popup>\n        </Marker>\n      </MapContainer>\n    </div>\n  );\n}\n\nexport default MapView;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}